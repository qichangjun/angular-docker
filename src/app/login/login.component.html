<!--
<div class="login--component--wrapper">
  <form name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate class="login--wrap">
    <div class="login--wrap__content--box">
      <div class="user--logo--box">
        <div class="login--location">用户权限管理系统</div>
        <div class="user--input--box">
          <h3 class="caption">登录</h3>
          <div class="form-group input-content-box first">
            <div class="value--input" [ngClass]="{'focusInputs':focusInput=='userName'}">
              <span class="fa fa-user icon-bar" [ngClass]="{'focusInputs':focusInput=='userName'}"></span>
              <input type="text" (focus)="focusInput='userName'" (blur)="focusInput=''"
                class="form-control form--input shake" placeholder="用户名" name="username" [(ngModel)]="model.username"
                #username="ngModel" required />
              <span class="fa fa-times-circle clear--data--btn" [ngClass]="{'focusInputs':focusInput=='userName'}"
                [hidden]="!model.username" (mouseup)="model.username=''"></span>
            </div>
          </div>
          <div class="form-group input-content-box first">
            <div class="value--input">
              <span class="fa fa-key icon-bar" [ngClass]="{'focusInputs':focusInput=='password'}"></span>
              <input type="password" (blur)="focusInput=''" (focus)="focusInput='password'"
                class="form-control form--input" placeholder="密码" name="password" [(ngModel)]="model.password"
                #password="ngModel" required />
              <span class="fa fa-times-circle clear--data--btn" [ngClass]="{'focusInputs':focusInput=='password'}"
                [hidden]="!model.password" (mouseup)="model.password=''"></span>
            </div>
          </div>
          <div class="form-group input-content-box verification">
            <div class="value--input">
              <span class="icon-bar" [ngClass]="{'focusInputs':focusInput=='verification'}"><span class="verification--icon "></span></span>
              <input type="verification" (blur)="focusInput=''" (focus)="focusInput='verification'" autocomplete="off"
                     class="form-control form--input" placeholder="验证码" name="verification" [(ngModel)]="model.verification"
                     #password="ngModel" required />
              
              <div class="get_code code" (click)="drawCode('')" id="code">
                <canvas width="100" height="36" id="verifyCanvas"></canvas>
                <img id="code_img">
              </div>
            </div>
          </div>
          <button id="goLogin" [disabled]="loading" type="submit" class="btn btn-primary submit-btn">登录</button>
          <div *ngIf="f.submitted && !username.valid" class="login--warning--prompt">用户名不能为空</div>
          <div *ngIf="f.submitted && !password.valid" class="login--warning--prompt">密码不能为空</div>
          <div *ngIf="(f.submitted && !password.valid||hint)" class="login--warning--prompt">{{verify?verify:'验证码不能为空'}}</div>
        </div>
      </div>
    </div>
  </form>
</div>
-->
<div class="login--new--wrap">  
  <div class="login--new--box">
    <div class="slogan">
      任务管理 · 业务梳理 · 考核评估
    </div>
    <form name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate class="main--content--wrap">  
      <div class="form--wrap">
        <div class="form--box">  
          <div class="head--box">  
            <img src="assets/images/daj--logo.png" alt="" width="65">  
            <div class="title--box">
              <h3 class="caption">档案业务指导系统</h3>
              <h6 class="en--caption">Reocrds Management Guidance & Supervision System</h6>      
            </div>
          </div>
          <div class="form--input--box">
            <div class="attr--row--box">
              <i class="user--icon" [ngClass]="{actived:isActived(userName)}"></i>
              <div class="example-container">
                <mat-form-field>
                  <input #userName matInput placeholder="用户名" name="username" [(ngModel)]="model.username" #username="ngModel" >
                </mat-form-field>         
              </div>    
            </div>
            <div class="attr--row--box">
              <i class="password--icon" [ngClass]="{actived:isActived(userpassword)}"></i>
              <div class="example-container">
                <mat-form-field>
                  <input #userpassword matInput placeholder="密码"  name="password" type="password" [(ngModel)]="model.password"#password="ngModel">
                </mat-form-field>         
              </div>  
            </div>
            <div class="attr--row--box verification">
              <i class="verification--icon" [ngClass]="{actived:isActived(verificationCode)}"></i>
              <div class="example-container">
                <mat-form-field>
                  <input #verificationCode matInput placeholder="验证码" name="verification" [(ngModel)]="model.verification" #password="ngModel" >    
                </mat-form-field>         
              </div>  
              <div class="get_code code" (click)="drawCode('')" id="code">
                <canvas width="100" height="36" id="verifyCanvas"></canvas>
                <img id="code_img">
              </div>
            </div>
            <div class="attr--row--box remember--box">
              <mat-checkbox>记住我</mat-checkbox>
            </div>
            <div class="option--box">  
              <button mat-flat-button color="primary" id="goLogin" [disabled]="loading" type="submit">登&nbsp;录</button>
            </div>
          </div>
        </div>
        
        <!-- <div class="form--bg">
          <img src="/assets/images/login--form--bg.png" alt="" width="460">    
        </div> -->
      </div>
      <div class="footer--box">
        ©&nbsp;杭州安铂数据科技有限公司版权所有 2020
      </div> 
    </form>
  </div>
 
</div>



<loading-message *ngIf="loading"></loading-message>
